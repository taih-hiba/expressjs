<!DOCTYPE html>
<html lang="en">
<head>
  <title><%= title %></title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</head>
<body>

<div class="container">
  <h2><%= title %></h2>
  <a href="/monuments/add" class="btn btn-sm btn-primary">Add monuments</a><br/><br/>
  <table class="table table-dark table-striped">
    <thead>
      <tr>
        <th>ID</th>
        <th>NOM</th>
	<th>LONGITUDE</th>
	<th>LATITUDE</th>
	<th>VILLE</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
        <% etudiant.forEach(function(e){ %>
            <tr>
                <td><%= e.id %></td>
                <td><%= e.nom %></td>
                <td><%= e.longitude %></td>
                <td><%= e.latitude %></td>
                <td><%= e.ville %></td>
                
                <td>
                    <a href="/monuments/edit/<%= e.id %>" class="btn btn-sm btn-primary">Edit</a>
                    <a href="/monuments/delete/<%= e.id %>" class="btn btn-sm btn-danger">Delete</a>
                </td>
            </tr>
        <% }); %>
    </tbody>
  </table>
</div>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <style type="text/css">
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }

      /* Optional: Makes the sample page fill the window. */
      html,
      body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
    <script>
      let map;

      function initMap() {
        map = new google.maps.Map(document.getElementById("map"), {
          zoom: 2,
          center: new google.maps.LatLng(2.8, -187.3),
          mapTypeId: "terrain",
        });
        
      }

      // Loop through the results array and place a marker for each
      // set of coordinates.
      const eqfeed_callback = function (results) {
        for (let i = 0; i < results.features.length; i++) {
          // const coords = results.features[i].geometry.coordinates;
          const latLng = new google.maps.LatLng(e.longitude, e.latitude);
          new google.maps.Marker({
            position: latLng,
            map: map,
          });
        }
      };
    </script>
  </head>
  <body>
    <div id="map"></div>

    <!-- Async script executes immediately and must be after any DOM elements used in callback. -->
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDj4MYPVlscrsLNaJpMFR7YMgp4pPjP_Jk&callback=initMap&libraries=&v=weekly"
      async
    ></script>

</body>
</html>